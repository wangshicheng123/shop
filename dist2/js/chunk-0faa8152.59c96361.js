(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0faa8152"],{"25c3":function(t,e,i){"use strict";var a=i("afb7"),n=i.n(a);n.a},afb7:function(t,e,i){},afe0:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("van-nav-bar",{staticClass:"type-title",attrs:{title:"商品分类"}}),i("van-row",[i("van-col",{staticStyle:{position:"relative"},attrs:{span:"8"}},[i("div",[i("van-sidebar",{staticClass:"cate-list",model:{value:t.activeKey,callback:function(e){t.activeKey=e},expression:"activeKey"}},t._l(t.typeList,(function(e,a){return i("van-sidebar-item",{key:a,staticClass:"cate-list-item",attrs:{title:e.typeName},on:{click:function(i){return t.changeType(e.typeId)}}})})),1)],1)]),i("van-col",{attrs:{span:"16"}},[i("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[i("van-list",{staticClass:"product-list",attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.productrList,(function(e,a){return i("van-cell",{key:a,staticClass:"product-list-item",on:{click:function(i){return t.goDetail(e._id)}}},[i("img",{attrs:{src:e.img,alt:""}}),i("div",{staticClass:"product-list-item-name"},[t._v(t._s(e.name))]),i("div",{staticClass:"product-list-item-price"},[t._v("￥"+t._s(e.price))])])})),1)],1)],1)],1)],1)},n=[];function s(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}function r(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function c(t){return s(t)||r(t)||o()}var l=i("8acc"),d=i("2427"),u=i.n(d),h={data:function(){return{activeKey:0,typeList:[],loading:!1,finished:!1,productrList:[],length:10,start:0,typeId:"1"}},created:function(){var t=this;u()({url:l["a"].getTypeList}).then((function(e){t.typeList=e.data.data})),this.changeType(this.typeId)},methods:{getProductList:function(){var t=this;u()({url:l["a"].getProduct,method:"get",params:{typeId:this.typeId,length:this.length,start:this.start}}).then((function(e){var i;200==e.data.code?(console.log(e.data),(i=t.productrList).push.apply(i,c(e.data.data)),e.data.data.length<10&&(t.finished=!0),t.loading=!1):t.loading=!1}))},changeType:function(t){this.loading=!0,this.productrList=[],this.typeId=t,this.finished=!1,this.getProductList()},onLoad:function(){var t=this;setTimeout((function(){t.start++,t.getProductList()}),2e3)},onRefresh:function(){console.log("onrefresh"),this.productrList=[],this.finished=!1,this.start=0,this.getProductList()},goDetail:function(t){this.$router.push({path:"/detail",query:{id:t}})}}},p=h,f=(i("25c3"),i("6691")),g=Object(f["a"])(p,a,n,!1,null,null,null);e["default"]=g.exports}}]);