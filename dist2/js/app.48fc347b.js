(function(e){function t(t){for(var r,a,u=t[0],i=t[1],s=t[2],d=0,f=[];d<u.length;d++)a=u[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);l&&l(t);while(f.length)f.shift()();return c.push.apply(c,s||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,a=1;a<n.length;a++){var u=n[a];0!==o[u]&&(r=!1)}r&&(c.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},o={app:0},c=[];function u(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-00fb6861":"fa8c44cc","chunk-0d5355c0":"5b823189","chunk-2a3c0af8":"2b5ada69","chunk-68a98180":"8adf09d8"}[e]+".js"}function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={"chunk-00fb6861":1,"chunk-0d5355c0":1,"chunk-2a3c0af8":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-00fb6861":"c677b846","chunk-0d5355c0":"313bcae0","chunk-2a3c0af8":"6c3b8f09","chunk-68a98180":"31d6cfe0"}[e]+".css",o=i.p+r,c=document.getElementsByTagName("link"),u=0;u<c.length;u++){var s=c[u],d=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(d===r||d===o))return t()}var f=document.getElementsByTagName("style");for(u=0;u<f.length;u++){s=f[u],d=s.getAttribute("data-href");if(d===r||d===o)return t()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=t,l.onerror=function(t){var r=t&&t.target&&t.target.src||o,c=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=r,delete a[e],l.parentNode.removeChild(l),n(c)},l.href=o;var p=document.getElementsByTagName("head")[0];p.appendChild(l)})).then((function(){a[e]=0})));var r=o[e];if(0!==r)if(r)t.push(r[2]);else{var c=new Promise((function(t,n){r=o[e]=[t,n]}));t.push(r[2]=c);var s,d=document.createElement("script");d.charset="utf-8",d.timeout=120,i.nc&&d.setAttribute("nonce",i.nc),d.src=u(e);var f=new Error;s=function(t){d.onerror=d.onload=null,clearTimeout(l);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;f.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",f.name="ChunkLoadError",f.type=r,f.request=a,n[1](f)}o[e]=void 0}};var l=setTimeout((function(){s({type:"timeout",target:d})}),12e4);d.onerror=d.onload=s,document.head.appendChild(d)}return Promise.all(t)},i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],d=s.push.bind(s);s.push=t,s=s.slice();for(var f=0;f<s.length;f++)t(s[f]);var l=d;c.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"097e":function(e,t){(function(e){var t,n=e.document,r=n.documentElement;function a(){var e=r.getBoundingClientRect().width,t=e/6.4;r.style.fontSize=t+"px"}e.addEventListener("resize",(function(){clearTimeout(t),t=setTimeout(a,10)}),!1),e.addEventListener("pageshow",(function(e){e.persisted&&(clearTimeout(t),t=setTimeout(a,10))}),!1),a()})(window)},"4ee2":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("1007");var r=n("b897"),a=(n("1562"),n("129f")),o=(n("81bb"),n("a6c6")),c=(n("72bb"),n("0d03")),u=(n("2dca"),n("f8b9")),i=(n("c9ca"),n("4349")),s=(n("b0d3"),n("129b")),d=(n("cad8"),n("87bd")),f=(n("50e0"),n("6b33")),l=(n("67d3"),n("4d66")),p=(n("dbf0"),n("1538")),h=(n("9f61"),n("98e6")),m=(n("2742"),n("5b7b")),b=(n("bde8"),n("3c22")),v=(n("18a9"),n("46c2")),g=(n("d463"),n("82c6")),y=(n("b081"),n("2f6c")),k=(n("48dc"),n("5506")),w=(n("d037"),n("7f9a")),O=(n("d97c"),n("120b")),_=(n("f455"),n("08cd")),j=(n("b8c1"),n("5950")),P=(n("4fb2"),n("0f1a")),C=(n("a24c"),n("4b94")),I=(n("ed21"),n("ace2")),x=(n("96dd"),n("a60a"),n("e783"),n("8b1f"),n("6e6d")),E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("keep-alive",[e.$route.meta.keepAlive?n("router-view"):e._e()],1),e.$route.meta.keepAlive?e._e():n("router-view"),n("router-view",{attrs:{name:"footer-bar"}})],1)},S=[],L={created:function(){}},T=L,$=n("6691"),A=Object($["a"])(T,E,S,!1,null,null,null),D=A.exports,N=n("c478"),q=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("van-nav-bar",{attrs:{title:"商品详情","left-text":"返回","left-arrow":""},on:{"click-left":e.clickLeftHander}}),n("div",{staticClass:"product"},[n("img",{attrs:{src:e.productInfo.img,alt:""}}),n("div",{staticClass:"product-name"},[e._v(e._s(e.productInfo.name))]),n("div",{staticClass:"product-price"},[e._v("￥"+e._s(e.productInfo.price))]),n("div",{staticClass:"product-compony"},[e._v("公司： "+e._s(e.productInfo.company))]),n("div",{staticClass:"product-city"},[e._v("城市："+e._s(e.productInfo.city?e.productInfo.city:"未知"))])]),n("van-goods-action",[n("van-goods-action-icon",{attrs:{icon:"chat-o",text:"客服"}}),n("van-goods-action-icon",{attrs:{icon:"cart-o",text:"购物车"}}),n("van-goods-action-button",{attrs:{type:"warning",text:"加入购物车"},on:{click:e.addCart}}),n("van-goods-action-button",{attrs:{type:"danger",text:"立即购买"}})],1)],1)},B=[],M=(n("efce"),n("4634"),n("ed8b"),n("97a3")),U=n("2427"),H=n.n(U),J=n("8acc"),z=n("591a");function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(n,!0).forEach((function(t){Object(M["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K={data:function(){return{productInfo:{}}},computed:F({},Object(z["c"])(["userInfo"])),methods:{clickLeftHander:function(){this.$router.go(-1)},addCart:function(){var e=this;"{}"==JSON.stringify(this.userInfo)?this.$router.push("/profile"):(console.log(this.userInfo),H()({url:J["a"].addCart,method:"get",params:{userId:this.userInfo._id,productId:this.productInfo._id}}).then((function(t){200==t.data.code&&e.$toast.success("加入购物车成功")})).catch((function(t){e.$$toast.fail("加入购物车失败")})))}},created:function(){var e=this;this.id=this.$route.query.id,H()({url:J["a"].getProductDetail,method:"get",params:{id:this.$route.query.id}}).then((function(t){200==t.data.code?e.productInfo=t.data.data:e.$toast.fail("失败")}))}},G=K,Q=(n("d1e7"),Object($["a"])(G,q,B,!1,null,"6cd09a4e",null)),V=Q.exports,W=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("van-tabbar",{attrs:{route:""},on:{change:e.change},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[n("van-tabbar-item",{attrs:{icon:"home-o",to:"/"}},[e._v("首页")]),n("van-tabbar-item",{attrs:{icon:"records",to:"/catalogue"}},[e._v("分类")]),n("van-tabbar-item",{attrs:{icon:"cart-o",to:"/cart"}},[e._v("购物车")]),n("van-tabbar-item",{attrs:{icon:"contact",to:"/profile"}},[e._v("我的")])],1)},X=[],Y={data:function(){return{active:0}},methods:{change:function(e){localStorage.setItem("active",e)}},created:function(){this.active=parseInt(localStorage.getItem("active"))}},Z=Y,ee=Object($["a"])(Z,W,X,!1,null,null,null),te=ee.exports,ne=function(){return n.e("chunk-2a3c0af8").then(n.bind(null,"bb51"))},re=function(){return n.e("chunk-00fb6861").then(n.bind(null,"b789"))},ae=function(){return n.e("chunk-0d5355c0").then(n.bind(null,"afe0"))},oe=function(){return n.e("chunk-68a98180").then(n.bind(null,"c66d"))};x["a"].use(N["a"]);var ce=new N["a"]({routes:[{path:"/",name:"home",components:{default:ne,"footer-bar":te},meta:{keepAlive:!0}},{path:"/cart",name:"cart",components:{default:re,"footer-bar":te}},{path:"/catalogue",name:"catalogue",components:{default:ae,"footer-bar":te},meta:{keepAlive:!0}},{path:"/profile",name:"profile",components:{default:oe,"footer-bar":te},meta:{keepAlive:!1}},{path:"/detail",name:"detail",component:V}]});x["a"].use(z["a"]);var ue=new z["a"].Store({state:{userInfo:{}},mutations:{changeUser:function(e,t){e.userInfo=t}},actions:{changeUserAction:function(e,t){var n=e.commit;n("changeUser",t)}}});n("4ee2"),n("097e"),n("9523");x["a"].config.productionTip=!1,x["a"].use(r["a"]).use(a["a"]).use(o["a"]).use(c["a"]).use(u["a"]).use(i["a"]).use(s["a"]).use(d["a"]).use(f["a"]).use(l["a"]).use(p["a"]).use(h["a"]).use(m["a"]).use(b["a"]).use(v["a"]).use(g["a"]).use(y["a"]).use(k["a"]).use(w["a"]).use(O["a"]).use(_["a"]).use(j["a"]).use(P["a"]).use(C["a"]).use(I["a"]),new x["a"]({router:ce,store:ue,render:function(e){return e(D)}}).$mount("#app")},"8acc":function(e,t,n){"use strict";var r="http://nongji.com/",a="http://49.232.143.111/shop/";t["a"]={recommandList:r+"recommandList",login:a+"user/login",regist:a+"user/regist",getTypeList:a+"type/getTypeList",getProduct:a+"product/getProduct",getProductDetail:a+"product/getProductDetail",addCart:a+"cart/addCart",getCart:a+"cart/getCart",deleCart:a+"cart/deleCart"}},9523:function(e,t,n){"use strict";var r=n("03a1"),a=n.n(r),o=n("8acc"),c=a.a.Random;a.a.mock(o["a"].recommandList,{"list|10-15":[{imgsrc:c.image("250x250"),name:c.ctitle(),"price|2000-10000":0}]})},bd79:function(e,t,n){},d1e7:function(e,t,n){"use strict";var r=n("bd79"),a=n.n(r);a.a}});